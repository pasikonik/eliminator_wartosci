<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Eliminacja Wartości - Ranking Życiowych Priorytetów</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <div id="app">
        <div class="container">
            <!-- Header -->
            <header class="header">
                <h1>
                    <i class="fas fa-sort-amount-up"></i>
                    Eliminacja Wartości
                </h1>
                <p class="subtitle">Posortuj 70 wartości życiowych od najważniejszych</p>
            </header>


            <!-- Controls -->
            <div class="controls">
                <div class="control-group">
                    <label @click="exportCSV" class="btn btn-secondary">
                        <i class="fas fa-download"></i>
                        Eksportuj CSV
                    </label>
                    <label class="btn btn-secondary">
                        <i class="fas fa-upload"></i>
                        Importuj CSV
                        <input type="file" @change="importCSV" accept=".csv" style="display: none;">
                    </label>
                    <label @click="copyToClipboard" class="btn btn-secondary">
                        <i class="fas fa-copy"></i>
                        Kopiuj listę
                    </label>
                </div>
                <div class="control-group">
                    <button @click="resetValues" class="btn btn-outline">
                        <i class="fas fa-undo"></i>
                        Reset
                    </button>
                    <button @click="shuffleValues" class="btn btn-outline">
                        <i class="fas fa-random"></i>
                        Losuj
                    </button>
                </div>
            </div>



            <!-- Values List -->
            <div class="values-container">
                <div class="values-list" ref="valuesList">
                    <div
                        v-for="(value, index) in values"
                        :key="value.id"
                        :class="[
                            'value-item',
                            { 'dragging': draggingIndex === index },
                            { 'top-value': index < 7 },
                            `top-${index + 1}`
                        ]"
                        :style="getValueStyle(index)"
                        :draggable="true"
                        @dragstart="dragStart(index, $event)"
                        @dragover="dragOver(index, $event)"
                        @dragend="dragEnd"
                        @drop="drop(index, $event)"
                    >
                        <div class="value-position">{{ index + 1 }}</div>
                        <div class="value-name">{{ value.name }}</div>
                    </div>
                </div>
            </div>

            <!-- Footer -->
            <footer class="footer">
                <p>Ostatnie zmiany zapisane automatycznie w pamięci przeglądarki</p>
            </footer>
        </div>

        <!-- Toast Notifications -->
        <div class="toast-container">
            <div 
                v-for="toast in toasts" 
                :key="toast.id"
                :class="['toast', `toast-${toast.type}`]"
            >
                <i :class="getToastIcon(toast.type)"></i>
                {{ toast.message }}
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
